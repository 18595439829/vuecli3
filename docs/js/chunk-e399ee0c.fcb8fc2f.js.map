{"version":3,"sources":["webpack:///./src/views/ol/HeatMap.vue?c159","webpack:///./src/views/ol/HeatMap.vue?7f1e","webpack:///./node_modules/ol/style/IconAnchorUnits.js","webpack:///./node_modules/ol/style/IconImage.js","webpack:///./node_modules/ol/style/IconOrigin.js","webpack:///./node_modules/ol/style/Icon.js","webpack:///./src/views/ol/HeatMap.vue?d006","webpack:///./node_modules/ol/layer/Heatmap.js","webpack:///./src/views/ol/js/heatMap.js","webpack:///src/views/ol/HeatMap.vue","webpack:///./src/views/ol/HeatMap.vue?69d7","webpack:///./src/views/ol/HeatMap.vue"],"names":["module","exports","FRACTION","PIXELS","EventTarget","IconImage","image","src","size","crossOrigin","imageState","color","call","this","hitDetectionImage_","image_","Image","canvas_","document","createElement","color_","imageListenerKeys_","imageState_","size_","src_","tainted_","__proto__","prototype","Object","create","constructor","isTainted_","undefined","ImageState","LOADED","context","drawImage","getImageData","e","dispatchChangeEvent_","dispatchEvent","EventType","CHANGE","handleImageError_","ERROR","unlistenImage_","handleImageLoad_","width","height","replaceColor_","getImage","pixelRatio","getImageState","getHitDetectionImage","fillRect","canvas","getSize","getSrc","load","IDLE","LOADING","LOAD","ctx","getContext","imgData","data","r","g","b","i","ii","length","putImageData","forEach","get","iconImage","set","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","ImageStyle","Icon","opt_options","options","opacity","rotation","scale","rotateWithView","anchor_","anchor","normalizedAnchor_","anchorOrigin_","anchorOrigin","IconOrigin","anchorXUnits_","anchorXUnits","IconAnchorUnits","anchorYUnits_","anchorYUnits","crossOrigin_","img","imgSize","iconImage_","offset_","offset","offsetOrigin_","offsetOrigin","origin_","clone","slice","getOpacity","getScale","getRotation","getRotateWithView","getAnchor","setAnchor","getColor","getImageSize","getHitDetectionImageSize","getOrigin","iconImageSize","listenImageChange","listener","thisArg","unlistenImageChange","render","_vm","_h","$createElement","_c","_self","class","$style","attrs","on","add","_v","clear","staticRenderFns","Property","BLUR","GRADIENT","RADIUS","DEFAULT_GRADIENT","VectorLayer","Heatmap","baseOptions","gradient","radius","blur","shadow","weight","gradient_","shadow_","circleImage_","styleCache_","handleGradientChanged_","setGradient","setBlur","setRadius","handleStyleChanged_","weightFunction","feature","setStyle","resolution","index","style","Style","bind","setRenderOrder","RENDER","handleRender_","createCircle_","getRadius","getBlur","halfSize","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","center","arc","Math","PI","fill","toDataURL","getGradient","createGradient","Array","changed","event","view8","alpha","colors","createLinearGradient","step","addColorStop","fillStyle","Heat","raster","TileLayer","source","OSM","map","Map","layers","target","view","View","fromLonLat","zoom","heatData","VectorSource","features","item","Feature","geometry","Point","coordinates","addFeature","heatLayer","HeatmapLayer","magnitude","addLayer","removeLayer","name","heatMap","type","mounted","initMap","methods","injectStyles","locals","component"],"mappings":"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","file":"js/chunk-e399ee0c.fcb8fc2f.js","sourcesContent":["export { default } from  \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-0-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeatMap.vue?vue&type=style&index=0&lang=less&module=true&\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-0-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeatMap.vue?vue&type=style&index=0&lang=less&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"HeatMap_map_3mCWo\"};","/**\n * @module ol/style/IconAnchorUnits\n */\n\n/**\n * Icon anchor units. One of 'fraction', 'pixels'.\n * @enum {string}\n */\nexport default {\n  FRACTION: 'fraction',\n  PIXELS: 'pixels'\n};\n\n//# sourceMappingURL=IconAnchorUnits.js.map","/**\n * @module ol/style/IconImage\n */\n\nimport {createCanvasContext2D} from '../dom.js';\nimport {listenOnce, unlistenByKey} from '../events.js';\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport {shared as iconImageCache} from './IconImageCache.js';\n\nvar IconImage = /*@__PURE__*/(function (EventTarget) {\n  function IconImage(image, src, size, crossOrigin, imageState, color) {\n\n    EventTarget.call(this);\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n    this.hitDetectionImage_ = null;\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n    this.image_ = !image ? new Image() : image;\n\n    if (crossOrigin !== null) {\n      /** @type {HTMLImageElement} */ (this.image_).crossOrigin = crossOrigin;\n    }\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement}\n     */\n    this.canvas_ = color ?\n      /** @type {HTMLCanvasElement} */ (document.createElement('canvas')) :\n      null;\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color}\n     */\n    this.color_ = color;\n\n    /**\n     * @private\n     * @type {Array<import(\"../events.js\").EventsKey>}\n     */\n    this.imageListenerKeys_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../ImageState.js\").default}\n     */\n    this.imageState_ = imageState;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size}\n     */\n    this.size_ = size;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     * @type {boolean|undefined}\n     */\n    this.tainted_;\n\n  }\n\n  if ( EventTarget ) IconImage.__proto__ = EventTarget;\n  IconImage.prototype = Object.create( EventTarget && EventTarget.prototype );\n  IconImage.prototype.constructor = IconImage;\n\n  /**\n   * @private\n   * @return {boolean} The image canvas is tainted.\n   */\n  IconImage.prototype.isTainted_ = function isTainted_ () {\n    if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n      this.tainted_ = false;\n      var context = createCanvasContext2D(1, 1);\n      try {\n        context.drawImage(this.image_, 0, 0);\n        context.getImageData(0, 0, 1, 1);\n      } catch (e) {\n        this.tainted_ = true;\n      }\n    }\n    return this.tainted_ === true;\n  };\n\n  /**\n   * @private\n   */\n  IconImage.prototype.dispatchChangeEvent_ = function dispatchChangeEvent_ () {\n    this.dispatchEvent(EventType.CHANGE);\n  };\n\n  /**\n   * @private\n   */\n  IconImage.prototype.handleImageError_ = function handleImageError_ () {\n    this.imageState_ = ImageState.ERROR;\n    this.unlistenImage_();\n    this.dispatchChangeEvent_();\n  };\n\n  /**\n   * @private\n   */\n  IconImage.prototype.handleImageLoad_ = function handleImageLoad_ () {\n    this.imageState_ = ImageState.LOADED;\n    if (this.size_) {\n      this.image_.width = this.size_[0];\n      this.image_.height = this.size_[1];\n    }\n    this.size_ = [this.image_.width, this.image_.height];\n    this.unlistenImage_();\n    this.replaceColor_();\n    this.dispatchChangeEvent_();\n  };\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n   */\n  IconImage.prototype.getImage = function getImage (pixelRatio) {\n    return this.canvas_ ? this.canvas_ : this.image_;\n  };\n\n  /**\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  IconImage.prototype.getImageState = function getImageState () {\n    return this.imageState_;\n  };\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n   */\n  IconImage.prototype.getHitDetectionImage = function getHitDetectionImage (pixelRatio) {\n    if (!this.hitDetectionImage_) {\n      if (this.isTainted_()) {\n        var width = this.size_[0];\n        var height = this.size_[1];\n        var context = createCanvasContext2D(width, height);\n        context.fillRect(0, 0, width, height);\n        this.hitDetectionImage_ = context.canvas;\n      } else {\n        this.hitDetectionImage_ = this.image_;\n      }\n    }\n    return this.hitDetectionImage_;\n  };\n\n  /**\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  IconImage.prototype.getSize = function getSize () {\n    return this.size_;\n  };\n\n  /**\n   * @return {string|undefined} Image src.\n   */\n  IconImage.prototype.getSrc = function getSrc () {\n    return this.src_;\n  };\n\n  /**\n   * Load not yet loaded URI.\n   */\n  IconImage.prototype.load = function load () {\n    if (this.imageState_ == ImageState.IDLE) {\n      this.imageState_ = ImageState.LOADING;\n      this.imageListenerKeys_ = [\n        listenOnce(this.image_, EventType.ERROR,\n          this.handleImageError_, this),\n        listenOnce(this.image_, EventType.LOAD,\n          this.handleImageLoad_, this)\n      ];\n      try {\n        /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n      } catch (e) {\n        this.handleImageError_();\n      }\n    }\n  };\n\n  /**\n   * @private\n   */\n  IconImage.prototype.replaceColor_ = function replaceColor_ () {\n    if (!this.color_ || this.isTainted_()) {\n      return;\n    }\n\n    this.canvas_.width = this.image_.width;\n    this.canvas_.height = this.image_.height;\n\n    var ctx = this.canvas_.getContext('2d');\n    ctx.drawImage(this.image_, 0, 0);\n\n    var imgData = ctx.getImageData(0, 0, this.image_.width, this.image_.height);\n    var data = imgData.data;\n    var r = this.color_[0] / 255.0;\n    var g = this.color_[1] / 255.0;\n    var b = this.color_[2] / 255.0;\n\n    for (var i = 0, ii = data.length; i < ii; i += 4) {\n      data[i] *= r;\n      data[i + 1] *= g;\n      data[i + 2] *= b;\n    }\n    ctx.putImageData(imgData, 0, 0);\n  };\n\n  /**\n   * Discards event handlers which listen for load completion or errors.\n   *\n   * @private\n   */\n  IconImage.prototype.unlistenImage_ = function unlistenImage_ () {\n    this.imageListenerKeys_.forEach(unlistenByKey);\n    this.imageListenerKeys_ = null;\n  };\n\n  return IconImage;\n}(EventTarget));\n\n\n/**\n * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n * @param {string} src Src.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default} imageState Image state.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {IconImage} Icon image.\n */\nexport function get(image, src, size, crossOrigin, imageState, color) {\n  var iconImage = iconImageCache.get(src, crossOrigin, color);\n  if (!iconImage) {\n    iconImage = new IconImage(image, src, size, crossOrigin, imageState, color);\n    iconImageCache.set(src, crossOrigin, color, iconImage);\n  }\n  return iconImage;\n}\n\n\nexport default IconImage;\n\n//# sourceMappingURL=IconImage.js.map","/**\n * @module ol/style/IconOrigin\n */\n\n/**\n * Icon origin. One of 'bottom-left', 'bottom-right', 'top-left', 'top-right'.\n * @enum {string}\n */\nexport default {\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_RIGHT: 'bottom-right',\n  TOP_LEFT: 'top-left',\n  TOP_RIGHT: 'top-right'\n};\n\n//# sourceMappingURL=IconOrigin.js.map","/**\n * @module ol/style/Icon\n */\nimport {getUid} from '../util.js';\nimport ImageState from '../ImageState.js';\nimport {assert} from '../asserts.js';\nimport {asArray} from '../color.js';\nimport {listen, unlisten} from '../events.js';\nimport EventType from '../events/EventType.js';\nimport IconAnchorUnits from './IconAnchorUnits.js';\nimport {get as getIconImage} from './IconImage.js';\nimport IconOrigin from './IconOrigin.js';\nimport ImageStyle from './Image.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {Array<number>} [anchor=[0.5, 0.5]] Anchor. Default value is the icon center.\n * @property {import(\"./IconOrigin.js\").default} [anchorOrigin] Origin of the anchor: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`. Default is `top-left`.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorXUnits] Units in which the anchor x value is\n * specified. A value of `'fraction'` indicates the x value is a fraction of the icon. A value of `'pixels'` indicates\n * the x value in pixels. Default is `'fraction'`.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorYUnits] Units in which the anchor y value is\n * specified. A value of `'fraction'` indicates the y value is a fraction of the icon. A value of `'pixels'` indicates\n * the y value in pixels. Default is `'fraction'`.\n * @property {import(\"../color.js\").Color|string} [color] Color to tint the icon. If not specified,\n * the icon will be left as is.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images. Note that you must provide a\n * `crossOrigin` value if you are using the WebGL renderer or if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {HTMLImageElement|HTMLCanvasElement} [img] Image object for the icon. If the `src` option is not provided then the\n * provided image must already be loaded. And in that case, it is required\n * to provide the size of the image, with the `imgSize` option.\n * @property {Array<number>} [offset=[0, 0]] Offset, which, together with the size and the offset origin, define the\n * sub-rectangle to use from the original icon image.\n * @property {import(\"./IconOrigin.js\").default} [offsetOrigin] Origin of the offset: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`. Default is `top-left`.\n * @property {number} [opacity=1] Opacity of the icon.\n * @property {number} [scale=1] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the icon with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {import(\"../size.js\").Size} [size] Icon size in pixel. Can be used together with `offset` to define the\n * sub-rectangle to use from the origin (sprite) icon image.\n * @property {import(\"../size.js\").Size} [imgSize] Image size in pixels. Only required if `img` is set and `src` is not, and\n * for SVG images in Internet Explorer 11. The provided `imgSize` needs to match the actual size of the image.\n * @property {string} [src] Image source URI.\n */\n\n\n/**\n * @classdesc\n * Set icon style for vector features.\n * @api\n */\nvar Icon = /*@__PURE__*/(function (ImageStyle) {\n  function Icon(opt_options) {\n    var options = opt_options || {};\n\n    /**\n     * @type {number}\n     */\n    var opacity = options.opacity !== undefined ? options.opacity : 1;\n\n    /**\n     * @type {number}\n     */\n    var rotation = options.rotation !== undefined ? options.rotation : 0;\n\n    /**\n     * @type {number}\n     */\n    var scale = options.scale !== undefined ? options.scale : 1;\n\n    /**\n     * @type {boolean}\n     */\n    var rotateWithView = options.rotateWithView !== undefined ?\n      options.rotateWithView : false;\n\n    ImageStyle.call(this, {\n      opacity: opacity,\n      rotation: rotation,\n      scale: scale,\n      rotateWithView: rotateWithView\n    });\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.anchor_ = options.anchor !== undefined ? options.anchor : [0.5, 0.5];\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.normalizedAnchor_ = null;\n\n    /**\n     * @private\n     * @type {import(\"./IconOrigin.js\").default}\n     */\n    this.anchorOrigin_ = options.anchorOrigin !== undefined ?\n      options.anchorOrigin : IconOrigin.TOP_LEFT;\n\n    /**\n     * @private\n     * @type {import(\"./IconAnchorUnits.js\").default}\n     */\n    this.anchorXUnits_ = options.anchorXUnits !== undefined ?\n      options.anchorXUnits : IconAnchorUnits.FRACTION;\n\n    /**\n     * @private\n     * @type {import(\"./IconAnchorUnits.js\").default}\n     */\n    this.anchorYUnits_ = options.anchorYUnits !== undefined ?\n      options.anchorYUnits : IconAnchorUnits.FRACTION;\n\n    /**\n     * @private\n     * @type {?string}\n     */\n    this.crossOrigin_ =\n        options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n    /**\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n    var image = options.img !== undefined ? options.img : null;\n\n    /**\n     * @type {import(\"../size.js\").Size}\n     */\n    var imgSize = options.imgSize !== undefined ? options.imgSize : null;\n\n    /**\n     * @type {string|undefined}\n     */\n    var src = options.src;\n\n    assert(!(src !== undefined && image),\n      4); // `image` and `src` cannot be provided at the same time\n    assert(!image || (image && imgSize),\n      5); // `imgSize` must be set when `image` is provided\n\n    if ((src === undefined || src.length === 0) && image) {\n      src = /** @type {HTMLImageElement} */ (image).src || getUid(image);\n    }\n    assert(src !== undefined && src.length > 0,\n      6); // A defined and non-empty `src` or `image` must be provided\n\n    /**\n     * @type {import(\"../ImageState.js\").default}\n     */\n    var imageState = options.src !== undefined ?\n      ImageState.IDLE : ImageState.LOADED;\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color}\n     */\n    this.color_ = options.color !== undefined ? asArray(options.color) : null;\n\n    /**\n     * @private\n     * @type {import(\"./IconImage.js\").default}\n     */\n    this.iconImage_ = getIconImage(\n      image, /** @type {string} */ (src), imgSize, this.crossOrigin_, imageState, this.color_);\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.offset_ = options.offset !== undefined ? options.offset : [0, 0];\n\n    /**\n     * @private\n     * @type {import(\"./IconOrigin.js\").default}\n     */\n    this.offsetOrigin_ = options.offsetOrigin !== undefined ?\n      options.offsetOrigin : IconOrigin.TOP_LEFT;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.origin_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size}\n     */\n    this.size_ = options.size !== undefined ? options.size : null;\n\n  }\n\n  if ( ImageStyle ) Icon.__proto__ = ImageStyle;\n  Icon.prototype = Object.create( ImageStyle && ImageStyle.prototype );\n  Icon.prototype.constructor = Icon;\n\n  /**\n   * Clones the style. The underlying Image/HTMLCanvasElement is not cloned.\n   * @return {Icon} The cloned style.\n   * @api\n   */\n  Icon.prototype.clone = function clone () {\n    return new Icon({\n      anchor: this.anchor_.slice(),\n      anchorOrigin: this.anchorOrigin_,\n      anchorXUnits: this.anchorXUnits_,\n      anchorYUnits: this.anchorYUnits_,\n      crossOrigin: this.crossOrigin_,\n      color: (this.color_ && this.color_.slice) ? this.color_.slice() : this.color_ || undefined,\n      src: this.getSrc(),\n      offset: this.offset_.slice(),\n      offsetOrigin: this.offsetOrigin_,\n      size: this.size_ !== null ? this.size_.slice() : undefined,\n      opacity: this.getOpacity(),\n      scale: this.getScale(),\n      rotation: this.getRotation(),\n      rotateWithView: this.getRotateWithView()\n    });\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Icon.prototype.getAnchor = function getAnchor () {\n    if (this.normalizedAnchor_) {\n      return this.normalizedAnchor_;\n    }\n    var anchor = this.anchor_;\n    var size = this.getSize();\n    if (this.anchorXUnits_ == IconAnchorUnits.FRACTION ||\n        this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n      if (!size) {\n        return null;\n      }\n      anchor = this.anchor_.slice();\n      if (this.anchorXUnits_ == IconAnchorUnits.FRACTION) {\n        anchor[0] *= size[0];\n      }\n      if (this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n        anchor[1] *= size[1];\n      }\n    }\n\n    if (this.anchorOrigin_ != IconOrigin.TOP_LEFT) {\n      if (!size) {\n        return null;\n      }\n      if (anchor === this.anchor_) {\n        anchor = this.anchor_.slice();\n      }\n      if (this.anchorOrigin_ == IconOrigin.TOP_RIGHT ||\n          this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n        anchor[0] = -anchor[0] + size[0];\n      }\n      if (this.anchorOrigin_ == IconOrigin.BOTTOM_LEFT ||\n          this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n        anchor[1] = -anchor[1] + size[1];\n      }\n    }\n    this.normalizedAnchor_ = anchor;\n    return this.normalizedAnchor_;\n  };\n\n  /**\n   * Set the anchor point. The anchor determines the center point for the\n   * symbolizer.\n   *\n   * @param {Array<number>} anchor Anchor.\n   * @api\n   */\n  Icon.prototype.setAnchor = function setAnchor (anchor) {\n    this.anchor_ = anchor;\n    this.normalizedAnchor_ = null;\n  };\n\n  /**\n   * Get the icon color.\n   * @return {import(\"../color.js\").Color} Color.\n   * @api\n   */\n  Icon.prototype.getColor = function getColor () {\n    return this.color_;\n  };\n\n  /**\n   * Get the image icon.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n   * @override\n   * @api\n   */\n  Icon.prototype.getImage = function getImage (pixelRatio) {\n    return this.iconImage_.getImage(pixelRatio);\n  };\n\n  /**\n   * @override\n   */\n  Icon.prototype.getImageSize = function getImageSize () {\n    return this.iconImage_.getSize();\n  };\n\n  /**\n   * @override\n   */\n  Icon.prototype.getHitDetectionImageSize = function getHitDetectionImageSize () {\n    return this.getImageSize();\n  };\n\n  /**\n   * @override\n   */\n  Icon.prototype.getImageState = function getImageState () {\n    return this.iconImage_.getImageState();\n  };\n\n  /**\n   * @override\n   */\n  Icon.prototype.getHitDetectionImage = function getHitDetectionImage (pixelRatio) {\n    return this.iconImage_.getHitDetectionImage(pixelRatio);\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Icon.prototype.getOrigin = function getOrigin () {\n    if (this.origin_) {\n      return this.origin_;\n    }\n    var offset = this.offset_;\n\n    if (this.offsetOrigin_ != IconOrigin.TOP_LEFT) {\n      var size = this.getSize();\n      var iconImageSize = this.iconImage_.getSize();\n      if (!size || !iconImageSize) {\n        return null;\n      }\n      offset = offset.slice();\n      if (this.offsetOrigin_ == IconOrigin.TOP_RIGHT ||\n          this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n        offset[0] = iconImageSize[0] - size[0] - offset[0];\n      }\n      if (this.offsetOrigin_ == IconOrigin.BOTTOM_LEFT ||\n          this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n        offset[1] = iconImageSize[1] - size[1] - offset[1];\n      }\n    }\n    this.origin_ = offset;\n    return this.origin_;\n  };\n\n  /**\n   * Get the image URL.\n   * @return {string|undefined} Image src.\n   * @api\n   */\n  Icon.prototype.getSrc = function getSrc () {\n    return this.iconImage_.getSrc();\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Icon.prototype.getSize = function getSize () {\n    return !this.size_ ? this.iconImage_.getSize() : this.size_;\n  };\n\n  /**\n   * @override\n   */\n  Icon.prototype.listenImageChange = function listenImageChange (listener, thisArg) {\n    return listen(this.iconImage_, EventType.CHANGE,\n      listener, thisArg);\n  };\n\n  /**\n   * Load not yet loaded URI.\n   * When rendering a feature with an icon style, the vector renderer will\n   * automatically call this method. However, you might want to call this\n   * method yourself for preloading or other purposes.\n   * @override\n   * @api\n   */\n  Icon.prototype.load = function load () {\n    this.iconImage_.load();\n  };\n\n  /**\n   * @override\n   */\n  Icon.prototype.unlistenImageChange = function unlistenImageChange (listener, thisArg) {\n    unlisten(this.iconImage_, EventType.CHANGE,\n      listener, thisArg);\n  };\n\n  return Icon;\n}(ImageStyle));\n\n\nexport default Icon;\n\n//# sourceMappingURL=Icon.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:_vm.$style['map'],attrs:{\"id\":\"map\"}}),_c('Button',{on:{\"click\":_vm.add}},[_vm._v(\"添加热力图\")]),_c('Button',{on:{\"click\":_vm.clear}},[_vm._v(\"清除热力图\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module ol/layer/Heatmap\n */\nimport {listen} from '../events.js';\nimport {getChangeEventType} from '../Object.js';\nimport {createCanvasContext2D} from '../dom.js';\nimport VectorLayer from './Vector.js';\nimport {clamp} from '../math.js';\nimport {assign} from '../obj.js';\nimport RenderEventType from '../render/EventType.js';\nimport Icon from '../style/Icon.js';\nimport Style from '../style/Style.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {Array<string>} [gradient=['#00f', '#0ff', '#0f0', '#ff0', '#f00']] The color gradient\n * of the heatmap, specified as an array of CSS color strings.\n * @property {number} [radius=8] Radius size in pixels.\n * @property {number} [blur=15] Blur size in pixels.\n * @property {number} [shadow=250] Shadow size in pixels.\n * @property {string|function(import(\"../Feature.js\").default):number} [weight='weight'] The feature\n * attribute to use for the weight or a function that returns a weight from a feature. Weight values\n * should range from 0 to 1 (and values outside will be clamped to that range).\n * @property {import(\"./VectorRenderType.js\").default|string} [renderMode='vector'] Render mode for vector layers:\n *  * `'image'`: Vector layers are rendered as images. Great performance, but point symbols and\n *    texts are always rotated with the view and pixels are scaled during zoom animations.\n *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering even during\n *    animations, but slower performance.\n * @property {import(\"../source/Vector.js\").default} [source] Source.\n */\n\n\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n  BLUR: 'blur',\n  GRADIENT: 'gradient',\n  RADIUS: 'radius'\n};\n\n\n/**\n * @const\n * @type {Array<string>}\n */\nvar DEFAULT_GRADIENT = ['#00f', '#0ff', '#0f0', '#ff0', '#f00'];\n\n\n/**\n * @classdesc\n * Layer for rendering vector data as a heatmap.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @fires import(\"../render/Event.js\").RenderEvent\n * @api\n */\nvar Heatmap = /*@__PURE__*/(function (VectorLayer) {\n  function Heatmap(opt_options) {\n    var options = opt_options ? opt_options : {};\n\n    var baseOptions = assign({}, options);\n\n    delete baseOptions.gradient;\n    delete baseOptions.radius;\n    delete baseOptions.blur;\n    delete baseOptions.shadow;\n    delete baseOptions.weight;\n    VectorLayer.call(this, baseOptions);\n\n    /**\n     * @private\n     * @type {Uint8ClampedArray}\n     */\n    this.gradient_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.shadow_ = options.shadow !== undefined ? options.shadow : 250;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.circleImage_ = undefined;\n\n    /**\n     * @private\n     * @type {Array<Array<import(\"../style/Style.js\").default>>}\n     */\n    this.styleCache_ = null;\n\n    listen(this,\n      getChangeEventType(Property.GRADIENT),\n      this.handleGradientChanged_, this);\n\n    this.setGradient(options.gradient ? options.gradient : DEFAULT_GRADIENT);\n\n    this.setBlur(options.blur !== undefined ? options.blur : 15);\n\n    this.setRadius(options.radius !== undefined ? options.radius : 8);\n\n    listen(this,\n      getChangeEventType(Property.BLUR),\n      this.handleStyleChanged_, this);\n    listen(this,\n      getChangeEventType(Property.RADIUS),\n      this.handleStyleChanged_, this);\n\n    this.handleStyleChanged_();\n\n    var weight = options.weight ? options.weight : 'weight';\n    var weightFunction;\n    if (typeof weight === 'string') {\n      weightFunction = function(feature) {\n        return feature.get(weight);\n      };\n    } else {\n      weightFunction = weight;\n    }\n\n    this.setStyle(function(feature, resolution) {\n      var weight = weightFunction(feature);\n      var opacity = weight !== undefined ? clamp(weight, 0, 1) : 1;\n      // cast to 8 bits\n      var index = (255 * opacity) | 0;\n      var style = this.styleCache_[index];\n      if (!style) {\n        style = [\n          new Style({\n            image: new Icon({\n              opacity: opacity,\n              src: this.circleImage_\n            })\n          })\n        ];\n        this.styleCache_[index] = style;\n      }\n      return style;\n    }.bind(this));\n\n    // For performance reasons, don't sort the features before rendering.\n    // The render order is not relevant for a heatmap representation.\n    this.setRenderOrder(null);\n\n    listen(this, RenderEventType.RENDER, this.handleRender_, this);\n  }\n\n  if ( VectorLayer ) Heatmap.__proto__ = VectorLayer;\n  Heatmap.prototype = Object.create( VectorLayer && VectorLayer.prototype );\n  Heatmap.prototype.constructor = Heatmap;\n\n  /**\n   * @return {string} Data URL for a circle.\n   * @private\n   */\n  Heatmap.prototype.createCircle_ = function createCircle_ () {\n    var radius = this.getRadius();\n    var blur = this.getBlur();\n    var halfSize = radius + blur + 1;\n    var size = 2 * halfSize;\n    var context = createCanvasContext2D(size, size);\n    context.shadowOffsetX = context.shadowOffsetY = this.shadow_;\n    context.shadowBlur = blur;\n    context.shadowColor = '#000';\n    context.beginPath();\n    var center = halfSize - this.shadow_;\n    context.arc(center, center, radius, 0, Math.PI * 2, true);\n    context.fill();\n    return context.canvas.toDataURL();\n  };\n\n  /**\n   * Return the blur size in pixels.\n   * @return {number} Blur size in pixels.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.getBlur = function getBlur () {\n    return /** @type {number} */ (this.get(Property.BLUR));\n  };\n\n  /**\n   * Return the gradient colors as array of strings.\n   * @return {Array<string>} Colors.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.getGradient = function getGradient () {\n    return /** @type {Array<string>} */ (this.get(Property.GRADIENT));\n  };\n\n  /**\n   * Return the size of the radius in pixels.\n   * @return {number} Radius size in pixel.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.getRadius = function getRadius () {\n    return /** @type {number} */ (this.get(Property.RADIUS));\n  };\n\n  /**\n   * @private\n   */\n  Heatmap.prototype.handleGradientChanged_ = function handleGradientChanged_ () {\n    this.gradient_ = createGradient(this.getGradient());\n  };\n\n  /**\n   * @private\n   */\n  Heatmap.prototype.handleStyleChanged_ = function handleStyleChanged_ () {\n    this.circleImage_ = this.createCircle_();\n    this.styleCache_ = new Array(256);\n    this.changed();\n  };\n\n  /**\n   * @param {import(\"../render/Event.js\").default} event Post compose event\n   * @private\n   */\n  Heatmap.prototype.handleRender_ = function handleRender_ (event) {\n    var context = event.context;\n    var canvas = context.canvas;\n    var image = context.getImageData(0, 0, canvas.width, canvas.height);\n    var view8 = image.data;\n    for (var i = 0, ii = view8.length; i < ii; i += 4) {\n      var alpha = view8[i + 3] * 4;\n      if (alpha) {\n        view8[i] = this.gradient_[alpha];\n        view8[i + 1] = this.gradient_[alpha + 1];\n        view8[i + 2] = this.gradient_[alpha + 2];\n      }\n    }\n    context.putImageData(image, 0, 0);\n  };\n\n  /**\n   * Set the blur size in pixels.\n   * @param {number} blur Blur size in pixels.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.setBlur = function setBlur (blur) {\n    this.set(Property.BLUR, blur);\n  };\n\n  /**\n   * Set the gradient colors as array of strings.\n   * @param {Array<string>} colors Gradient.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.setGradient = function setGradient (colors) {\n    this.set(Property.GRADIENT, colors);\n  };\n\n  /**\n   * Set the size of the radius in pixels.\n   * @param {number} radius Radius size in pixel.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.setRadius = function setRadius (radius) {\n    this.set(Property.RADIUS, radius);\n  };\n\n  return Heatmap;\n}(VectorLayer));\n\n\n/**\n * @param {Array<string>} colors A list of colored.\n * @return {Uint8ClampedArray} An array.\n */\nfunction createGradient(colors) {\n  var width = 1;\n  var height = 256;\n  var context = createCanvasContext2D(width, height);\n\n  var gradient = context.createLinearGradient(0, 0, width, height);\n  var step = 1 / (colors.length - 1);\n  for (var i = 0, ii = colors.length; i < ii; ++i) {\n    gradient.addColorStop(i * step, colors[i]);\n  }\n\n  context.fillStyle = gradient;\n  context.fillRect(0, 0, width, height);\n\n  return context.getImageData(0, 0, width, height).data;\n}\n\n\nexport default Heatmap;\n\n//# sourceMappingURL=Heatmap.js.map","import \"ol/ol.css\";\nimport Map from \"ol/Map\";\nimport View from \"ol/View\";\nimport OSM from \"ol/source/OSM.js\";\nimport Point from \"ol/geom/Point.js\";\nimport VectorSource from \"ol/source/Vector.js\";\nimport Feature from \"ol/Feature.js\";\nimport { fromLonLat } from \"ol/proj.js\";\nimport { Heatmap as HeatmapLayer, Tile as TileLayer } from \"ol/layer\";\n\nexport default class Heat {\n  constructor() {\n    const raster = new TileLayer({\n      source: new OSM(),\n    });\n    this.map = new Map({\n      layers: [raster],\n      target: \"map\",\n      view: new View({\n        center: fromLonLat([120.32714457090765, 30.30569628128095]),\n        zoom: 11,\n      }),\n    });\n  }\n  add(heatData) {\n    let source = new VectorSource();\n    heatData.features.forEach((item) => {\n      const feature = new Feature({\n        geometry: new Point(fromLonLat(item.coordinates)),\n        weight: item.weight,\n      });\n      source.addFeature(feature);\n    });\n    this.heatLayer = new HeatmapLayer({\n      // 矢量数据源\n      source,\n      blur: 10, // 模糊尺寸\n      radius: 10, // 热点半径\n      weight(feature) {\n        const weight = feature.get(\"weight\");\n        const magnitude = weight / 1;\n        return magnitude;\n      },\n    });\n    this.map.addLayer(this.heatLayer);\n  }\n  clear() {\n    this.map.removeLayer(this.heatLayer);\n  }\n}\n","<template>\n  <div>\n    <div id=\"map\" :class=\"$style['map']\"></div>\n    <Button @click=\"add\">添加热力图</Button>\n    <Button @click=\"clear\">清除热力图</Button>\n  </div>\n</template>\n<script>\nimport HeatMap from \"@/views/ol/js/heatMap.js\";\n\nexport default {\n  name: \"HeatMap\",\n  data() {\n    return {\n      heatMap: null,\n      // 热力图假数据\n      heatData: {\n        type: \"FeatureCollection\",\n        features: [\n          {\n            type: \"Point\",\n            coordinates: [120.10878812064284, 30.214101248758016],\n            weight: 100,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.06299060438137, 30.223642397979155],\n            weight: 19,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.01623897319779, 30.354356142308763],\n            weight: 419,\n          },\n          {\n            type: \"Point\",\n            coordinates: [20.32714457090765, 30.30569628128095],\n            weight: 319,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 719,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 519,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 319,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 139,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 129,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 190,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 189,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 1,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 119,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.32714457090765, 30.30569628128095],\n            weight: 200,\n          },\n          {\n            type: \"Point\",\n            coordinates: [120.11642104001974, 30.204560099536877],\n            weight: 300,\n          },\n        ],\n      },\n    };\n  },\n  mounted() {\n    this.initMap();\n  },\n  methods: {\n    initMap() {\n      this.heatMap = new HeatMap();\n    },\n    add() {\n      this.heatMap.add(this.heatData);\n    },\n    clear() {\n      this.heatMap.clear();\n    }\n  },\n};\n</script>\n\n<style lang=\"less\" module>\n.map {\n  width: 100%;\n  height: 500px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeatMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeatMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeatMap.vue?vue&type=template&id=2ef66076&\"\nimport script from \"./HeatMap.vue?vue&type=script&lang=js&\"\nexport * from \"./HeatMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeatMap.vue?vue&type=style&index=0&lang=less&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}